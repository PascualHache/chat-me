(this["webpackJsonpwhatsapp-clone"]=this["webpackJsonpwhatsapp-clone"]||[]).push([[0],{117:function(e,a,t){e.exports=t.p+"static/media/tag_faces.c50cc449.svg"},118:function(e,a,t){e.exports=t.p+"static/media/mic.958bf042.svg"},119:function(e,a,t){e.exports=t.p+"static/media/send.282ecb9e.svg"},120:function(e,a,t){e.exports=t(1452)},125:function(e,a,t){},126:function(e,a,t){e.exports=t.p+"static/media/carles.92b043a0.jpg"},1451:function(e,a,t){},1452:function(e,a,t){"use strict";t.r(a);var n=t(1),c=t.n(n),s=t(112),r=t.n(s),i=(t(125),t(113)),m=t(17),l=t(34),o=(t(126),t(64)),u=t(127),d=function e(){Object(o.a)(this,e),this.id=u.random.uuid(),this.name=u.name.findName(),this.avatar=u.internet.avatar()},g=function e(a,t,n){Object(o.a)(this,e),this.id=u.random.uuid(),this.msg=t||u.lorem.words(u.helpers.randomize(Object(m.a)(Array(20).keys()))),this.isMainUser=a,this.date=n||u.date.recent()},f=new d,p=Object(m.a)(Array(15).keys()).map((function(){return new d})).map((function(e){return{contact:e,messages:Object(m.a)(Array(50).keys()).map((function(e,a){return new g((a+1)%2===0)})).filter((function(e){return e.msg}))}}));t(1174);function v(e){var a=e.user,t=e.showName;return c.a.createElement("div",{className:"avatar-component"},c.a.createElement("img",{className:"avatar",src:a.avatar,alt:""}),t&&c.a.createElement("h3",{className:"avatar-title"},a.name))}var h=t(43),E=t.n(h);function b(e){var a,t,n=e.contact,s=e.setContactSelected,r=e.messages,i=Math.max.apply(Math,Object(m.a)(r.map((function(e){return e.date.getTime()})))),l=r.find((function(e){return e.date.getTime()===i}));return c.a.createElement("div",{className:"contact-box",onClick:function(){return s(n)}},c.a.createElement(v,{user:n}),c.a.createElement("div",{className:"right-section"},c.a.createElement("div",{className:"contact-box-header"},c.a.createElement("h3",{className:"avatar-title"},n.name),c.a.createElement("span",{className:"time-mark"},l.date.toLocaleDateString())),c.a.createElement("div",{className:"last-msg"},c.a.createElement("img",{src:E.a,alt:"",className:"icon-small"}),c.a.createElement("span",{className:"text"},(a=l.msg,t=30,a.length>t?"".concat(a.substring(0,t)," ..."):a)))))}function N(e){var a=e.message;return c.a.createElement("div",{className:"message ".concat(a.isMainUser?"sent":"received")},a.msg,c.a.createElement("div",{className:"metadata"},c.a.createElement("span",{className:"date"},a.date.toLocaleString()),a.isMainUser&&c.a.createElement("img",{src:E.a,alt:"",className:"icon-small"})))}function j(e){var a=e.messages,t=Object(n.useRef)(null);return Object(n.useEffect)((function(){t.current.scrollIntoView()})),c.a.createElement("div",{className:"chats"},a.sort((function(e,a){return e.date.getTime()-a.date.getTime()})).map((function(e){return c.a.createElement(N,{message:e,key:e.id})})),c.a.createElement("div",{style:{float:"right",clear:"both"},ref:t}))}var w=t(117),O=t.n(w),y=t(118),x=t.n(y),k=t(119),M=t.n(k);function S(e){var a=e.message,t=e.setMessage,n=e.pushMessage;return c.a.createElement("div",{className:"chat-input-box"},c.a.createElement("div",{className:"icon emoji-selector"},c.a.createElement("img",{src:O.a,alt:""})),c.a.createElement("div",{className:"chat-input"},c.a.createElement("input",{type:"text",placeholder:"Type a message",value:a,onChange:function(e){return t(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&a&&n()}})),c.a.createElement("div",{className:"icon send",onClick:n},c.a.createElement("img",{src:a?M.a:x.a,alt:""})))}t(1451);var C=function(){var e=Object(n.useState)(p),a=Object(l.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)({}),o=Object(l.a)(r,2),u=o[0],d=o[1],h=Object(n.useState)([]),E=Object(l.a)(h,2),N=E[0],w=E[1],O=Object(n.useState)(""),y=Object(l.a)(O,2),x=y[0],k=y[1];return Object(n.useEffect)((function(){var e=t.find((function(e){return e.contact.id===u.id}));w(e&&e.messages||[])}),[u,t]),c.a.createElement("div",{className:"app"},c.a.createElement("aside",null,c.a.createElement("header",null,c.a.createElement(v,{user:f})),c.a.createElement("div",{className:"search"},c.a.createElement("input",{type:"text",placeholder:"Search or start a new chat"})),c.a.createElement("div",{className:"contact-boxes"},t.map((function(e){var a=e.contact,t=e.messages;return c.a.createElement(b,{contact:a,key:a.id,setContactSelected:d,messages:t})})))),c.a.createElement("main",null,c.a.createElement("header",null,c.a.createElement(v,{user:u,showName:!0})),c.a.createElement(j,{messages:N}),c.a.createElement(S,{message:x,setMessage:k,pushMessage:function(){var e=t.findIndex((function(e){return e.contact.id===u.id})),a=Object.assign([],t,Object(i.a)({},e,{contact:u,messages:[].concat(Object(m.a)(t[e].messages),[new g(!0,x,new Date)])}));s(a),k("")}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},43:function(e,a,t){e.exports=t.p+"static/media/done_all.211c1153.svg"}},[[120,1,2]]]);
//# sourceMappingURL=main.da2360d7.chunk.js.map